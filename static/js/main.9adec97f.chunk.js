(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,a){e.exports=a(349)},203:function(e,t,a){},208:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(18),o=a(20),i=a(19),s=a(21),c=a(0),l=a.n(c),u=a(39),d=a.n(u),m=(a(203),a(70)),p=(a(208),a(365)),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"ColorPanel")}}]),t}(c.Component),f=a(362),g=a(117),E=a.n(g);a(209),a(211),a(350);E.a.initializeApp({apiKey:"AIzaSyD81kC17Zu4SSuUDeUFwH4aH5B4wpIQh0k",authDomain:"slack-react-app-ed83e.firebaseapp.com",databaseURL:"https://slack-react-app-ed83e.firebaseio.com",projectId:"slack-react-app-ed83e",storageBucket:"slack-react-app-ed83e.appspot.com",messagingSenderId:"104999919466",appId:"1:104999919466:web:3f6118eea74c3c05"});var b=E.a,v=a(367),y=a(65),w=a(359),O=a(186),j=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={user:a.props.currentUser},a.dropdownOptions=function(){return[{key:"avatar",text:l.a.createElement("span",null,"Change Avatar")},{key:"signout",text:l.a.createElement("span",{onClick:a.handleSignout},"Not ",l.a.createElement("strong",null,a.state.user.displayName,"?")," Sign Out")}]},a.handleSignout=function(){b.auth().signOut().then(function(){return console.log("Signed Out")})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.user;return l.a.createElement(p.a,{style:{background:"4c3c4c"}},l.a.createElement(p.a.Column,null,l.a.createElement(p.a.Row,{style:{padding:"1.2em",margin:0}},l.a.createElement(v.a,{inverted:!0,float:"left",as:"h2"},l.a.createElement(y.a,{name:"code"}),l.a.createElement(v.a.Content,null,"DevChat")),l.a.createElement(v.a,{style:{padding:"0.25em"},as:"h4",inverted:!0},l.a.createElement(w.a,{trigger:l.a.createElement("span",null,l.a.createElement(O.a,{scr:e.photoURL,spaced:"right",avatar:!0}),e.displayName),options:this.dropdownOptions()})))))}}]),t}(c.Component),C=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(f.a.Menu,{style:{paddingBottom:"2em"}})}}]),t}(c.Component),k=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return l.a.createElement(f.a,{size:"large",inverted:!0,fixed:"left",vertical:!0,style:{background:"#4c3c4c",fontSize:"1.2em"}},l.a.createElement(j,{currentUser:e}),l.a.createElement(C,null))}}]),t}(c.Component),S=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"MetaPanel")}}]),t}(c.Component),U=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Messages")}}]),t}(c.Component),A=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return l.a.createElement(p.a,{columns:"equal",className:"app"},l.a.createElement(h,null),l.a.createElement(k,{currentUser:e}),l.a.createElement(p.a.Column,{style:{marginLeft:320}},l.a.createElement(U,null)),l.a.createElement(p.a.Column,{width:4},l.a.createElement(S,null)))}}]),t}(c.Component),I=Object(m.b)(function(e){return{currentUser:e.user.currentUser}})(A),P=a(62),L=a(358),R=a(364),N=a(363),x=a(361),W=a(63),z=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",password:"",errors:[],loading:!1},a.displayErrors=function(e){return e.map(function(e,t){return l.a.createElement("p",{key:t}," ",e.message," ")})},a.handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.isFormValid(a.state)&&(a.setState({errors:[],loading:!0}),b.auth().signInWithEmailAndPassword(a.state.email,a.state.password).then(function(e){console.log(e),a.setState({loading:!1})}).catch(function(e){console.error(e),a.setState({errors:a.state.errors.concat(e),loading:!1})}))},a.isFormValid=function(e){var t=e.email,a=e.password;return t&&a},a.handleInputError=function(e,t){return e.some(function(e){return e.message.toLowerCase().includes(t)})?"error":""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.errors,r=e.loading;return l.a.createElement(p.a,{textAlign:"center",verticalAlign:"middle",className:"app"},l.a.createElement(p.a.Column,{style:{maxWidth:450}},l.a.createElement(v.a,{as:"h1",icon:!0,color:"violet",textAlign:"center"},l.a.createElement(y.a,{name:"code branch",color:"violet"}),"Login to DevChat"),l.a.createElement(L.a,{onSubmit:this.handleSubmit,size:"large"},l.a.createElement(R.a,{stacked:!0},l.a.createElement(L.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email Address",type:"email",onChange:this.handleChange,value:t,className:this.handleInputError(n,"email")}),l.a.createElement(L.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange,value:a,className:this.handleInputError(n,"password")}),l.a.createElement(N.a,{className:r?"loading":"",disabled:r,color:"violet",fluid:!0,size:"large"},"Submit"))),n.length>0&&l.a.createElement(x.a,{error:!0},l.a.createElement("h3",null,"Error"),this.displayErrors(n)),l.a.createElement(x.a,null,"Don't have an account? ",l.a.createElement(W.b,{to:"/register"},"Register")," ")))}}]),t}(c.Component),D=(a(346),a(183)),F=a.n(D),V=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",email:"",password:"",passwordConfirmation:"",errors:[],loading:!1,usersRef:b.database().ref("users")},a.isFormValid=function(){var e,t=[];return a.isFormEmpty(a.state)?(e={message:"Fill in all fields"},a.setState({errors:t.concat(e)}),!1):!!a.isPasswordValid(a.state)||(e={message:"Password is invalid"},a.setState({errors:t.concat(e)}),!1)},a.displayErrors=function(e){return e.map(function(e,t){return l.a.createElement("p",{key:t}," ",e.message," ")})},a.isFormEmpty=function(e){var t=e.username,a=e.email,n=e.password,r=e.passwordConfirmation;return!t.length||!a.length||!n.length||!r.length},a.isPasswordValid=function(e){var t=e.password,a=e.passwordConfirmation;return!(t.length<6||a.length<6)&&t===a},a.handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.isFormValid()&&(a.setState({errors:[],loading:!0}),b.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(e){console.log(e),e.user.updateProfile({displayName:a.state.username,photoURL:"https://gravatar.com/avatar/".concat(F()(e.user.email),"?d=identicon")}).then(function(){a.saveUser(e).then(function(){a.setState({loading:!1})})}).catch(function(e){a.setState({errors:a.state.errors.concat(e),loading:!1})})}).catch(function(e){console.log(e),a.setState({errors:a.state.errors.concat(e),loading:!1})}))},a.saveUser=function(e){return a.state.usersRef.child(e.user.uid).set({name:e.user.displayName,avatar:e.user.photoURL})},a.handleInputError=function(e,t){return e.some(function(e){return e.message.toLowerCase().includes(t)})?"error":""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password,r=e.passwordConfirmation,o=e.errors,i=e.loading;return l.a.createElement(p.a,{textAlign:"center",verticalAlign:"middle",className:"app"},l.a.createElement(p.a.Column,{style:{maxWidth:450}},l.a.createElement(v.a,{as:"h1",icon:!0,color:"orange",textAlign:"center"},l.a.createElement(y.a,{name:"puzzle piece",color:"orange"}),"Register For DevChat"),l.a.createElement(L.a,{onSubmit:this.handleSubmit,size:"large"},l.a.createElement(R.a,{stacked:!0},l.a.createElement(L.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"Username",type:"text",onChange:this.handleChange,value:t,className:this.handleInputError(o,"username")}),l.a.createElement(L.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email Address",type:"email",onChange:this.handleChange,value:a,className:this.handleInputError(o,"email")}),l.a.createElement(L.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange,value:n,className:this.handleInputError(o,"password")}),l.a.createElement(L.a.Input,{fluid:!0,name:"passwordConfirmation",icon:"repeat",iconPosition:"left",placeholder:"Password Confirmation",type:"password",onChange:this.handleChange,value:r,className:this.handleInputError(o,"password")}),l.a.createElement(N.a,{className:i?"loading":"",disabled:i,color:"orange",fluid:!0,size:"large"},"Submit"))),o.length>0&&l.a.createElement(x.a,{error:!0},l.a.createElement("h3",null,"Error"),this.displayErrors(o)),l.a.createElement(x.a,null,"Already a User? ",l.a.createElement(W.b,{to:"/login"},"Login")," ")))}}]),t}(c.Component),B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var M=a(47),_=a(44),H=a(184),J=a(185),q={currentUser:null,isLoading:!0},K=Object(_.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{currentUser:t.payload.currentUser,isLoading:!1};case"CLEAR_USER":return Object(J.a)({},q,{isLoading:!1});default:return e}}}),Q=a(360),Z=a(357),$=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.a,{active:!0},l.a.createElement(Z.a,{size:"huge",content:"Preparing your chats..."}))}}]),t}(c.Component),G=Object(_.createStore)(K,Object(H.composeWithDevTools)()),X=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.auth().onAuthStateChanged(function(t){t?(e.props.setUser(t),e.props.history.push("/")):(e.props.history.push("/login"),e.props.clearUser())})}},{key:"render",value:function(){return this.props.isLoading?l.a.createElement($,null):l.a.createElement(M.c,null,l.a.createElement(M.a,{exact:!0,path:"/",component:I}),l.a.createElement(M.a,{path:"/login",component:z}),l.a.createElement(M.a,{path:"/register",component:V}))}}]),t}(c.Component),Y=Object(M.e)(Object(m.b)(function(e){return{isLoading:e.user.isLoading}},{setUser:function(e){return{type:"SET_USER",payload:{currentUser:e}}},clearUser:function(){return{type:"CLEAR_USER"}}})(X));d.a.render(l.a.createElement(m.a,{store:G},l.a.createElement(W.a,null,l.a.createElement(Y,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/slack-react-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/slack-react-app","/service-worker.js");B?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(t,e)})}}()}},[[198,1,2]]]);
//# sourceMappingURL=main.9adec97f.chunk.js.map